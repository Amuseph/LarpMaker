<div class="container col-11">
<div class="pagetitle">Event List</div>
<div class="pagesubtitle" >A List of All Events -- Past, Present, & Future</div>

<%= link_to 'Register New Event', new_admin_event_path, remote: true, class: "btn btn-success" %>

<hr>
<table class="table table-hover table-bordered table-sm">
 <thead class="thead-dark">
 <tr>
  <th>Name</th>
  <th>Type</th>
  <th>Start Date</th>
  <th>End Date</th>
  <th>Player Count</th>
  <th>Staff Count</th>
  <th>Cast Count</th>
  <th></th>
</tr>
</thead>
<% @events.all.each do |event| %>
<tr >
<tr class="table-light">
  <td><%= link_to event.name, admin_event_path(event) %></td>
  <td><%= event.eventtype %></td>
  <td><%= event.startdate %></td>
  <td><%= event.enddate %></td>
  <td><%= event.eventattendances.where(registrationtype: 'Player').count %></td>
  <td><%= event.eventattendances.where(registrationtype: 'Staff').count %></td>
  <td><%= event.eventattendances.where(registrationtype: 'Cast').count %></td>
  <td><%= link_to edit_admin_event_path(event), remote: true do 
      fa_icon "edit"
    end
    %>
    </td>
</tr>
<% end %>
</table>

<div class="modal fade" id="addEventModal" tabindex="-1" role="dialog" aria-labelledby="addEventModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addEventModalLabel">Event</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div> 
      <div class="modal-body"></div>
    </div>
  </div>
</div>
